<mat-expansion-panel style="width: 1000px; margin: 0 auto 20px;" expanded="true">
  <mat-expansion-panel-header>
    <div class="security-header">
      <img src="assets/user.png" alt="user" class="icon" />
      <p>Your Profile</p>
    </div>
  </mat-expansion-panel-header>
  <div class="settings-container">
    <form #form="ngForm" (ngSubmit)="onSaveSettings()" class="settings-form">

      <!-- Email Field -->
      <mat-form-field appearance="outline" class="custom-form-field">
        <mat-label>Email</mat-label>
        <input
          matInput
          type="email"
          name="email"
          [(ngModel)]="settingsData.email"
          (ngModelChange)="validateEmail(); checkFormChanges()"
          required
          placeholder="your@email.com"
        />
        <mat-error *ngIf="emailError">{{ emailError }}</mat-error>
      </mat-form-field>

      <!-- Phone Field: flag +970 is now a matPrefix -->
      <mat-form-field appearance="outline" class="custom-form-field">
        <mat-label>Phone Number</mat-label>

         <!-- prefix lives here -->
         <span matPrefix class="phone-prefix">
          <img src="assets/palestine-flag.png"
               alt="Palestine flag"
               class="flag-icon" />
          &nbsp;+970&nbsp;
        </span>

        <input
          matInput
          type="tel"
          name="phoneNumber"
          [(ngModel)]="settingsData.phoneNumber"
          (ngModelChange)="validatePhoneNumber(); checkFormChanges()"
          placeholder="599123456"
          maxlength="9"
          required
        />

        <mat-error *ngIf="phoneError">{{ phoneError }}</mat-error>
      </mat-form-field>


      <!-- Reset Password -->
      <div class="reset-password">
        <p>Want to change your password?</p>
        <button type="button" (click)="onResetPassword()">Reset Password</button>
      </div>

      <!-- Save Button -->
   
<div class="button-group">
  <button
    type="submit"
    [disabled]="form.pristine || form.invalid"
  >
    Save Settings
  </button>
</div>

    </form>
  </div>
</mat-expansion-panel>

<app-confirm-reset
  *ngIf="showResetPassword"
  (confirmReset)="confirmResetPassword()"
  (cancelReset)="cancelResetPassword()"
></app-confirm-reset>
